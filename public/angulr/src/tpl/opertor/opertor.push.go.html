<div class="panel panel-default">
    <div class="panel-heading font-bold">通知推送
        <button class="btn btn-xs btn-danger pull-right" ng-click="cancel()">
            <i class="glyphicon glyphicon-remove">关闭</i>
        </button>
    </div>
    <div class="modal-body  wrapper-lg">
        <form role="form" class="form-horizontal" novalidate="novalidate" name="push_do_form">
            <div class="form-group">
                <label class="col-sm-2 control-label">推送类型</label>

                <div class="col-sm-6">
                    <select ng-model="dopush.pushType"
                            ng-options="value.id as value.name for value in dopush.pushTypes" class="form-control">
                    </select>
                </div>
            </div>
            <div class="form-group" ng-show="dopush.pushType == 2" ng-hide="dopush.pushType != 2">
                <label class="col-sm-2 control-label">跳转链接</label>

                <div class="col-sm-6">
                    <select ng-model="dopush.pushJumpType"
                            ng-options="value.id as value.name for value in dopush.pushJumpTypes" class="form-control">
                    </select>
                </div>
                <div class="col-sm-2"
                     ng-show="dopush.pushJumpType == 'ttyongche:///sns/news/detail?id='"
                     ng-hide="dopush.pushJumpType != 'ttyongche:///sns/news/detail?id='" >
                    <input name="dopush.cardId" type="text" class="form-control" placeholder="帖子id"
                           ng-model="dopush.cardId" >
                </div>
            </div>
            <div class="form-group" ng-show="dopush.pushType == 3" ng-hide="dopush.pushType != 3">
                <label class="col-sm-2 control-label">活动名称</label>

                <div class="col-sm-6">
                    <select ng-model="dopush.active"
                            ng-options="value.id as value.name for value in dopush.actives" class="form-control">
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">推送时间</label>

                <div class="col-sm-6">
                    <input type="text" class="form-control input-sm"

                           datetimepicker
                           datetimepicker-options="{icons:{next:'glyphicon glyphicon-arrow-right',previous:'glyphicon glyphicon-arrow-left',up:'glyphicon glyphicon-arrow-up',down:'glyphicon glyphicon-arrow-down'}}"

                           placeholder="推送时间，默认立即推送"
                           name="time"
                           ng-model="dopush.noticeTime">
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-2 control-label">推送人数</label>
                <label class="col-sm-2 control-label text-danger">{{dopush.pushCount}} 人</label>
            </div>

            <div class="form-group">
                <label class="col-sm-2 control-label">短送方式</label>

                <div class="col-sm-6">
                    <label>
                        <input type="radio" name="optionsRadios" id="optionsRadios1" ng-model="dopush.noticeWay" value="1" checked ng-disabled="dopush.pushType == 2">
                        PUSH
                    </label>
                    <label>
                        <input type="radio"  name="optionsRadios" id="optionsRadios2" ng-model="dopush.noticeWay" value="2" ng-disabled="dopush.pushType == 2">
                        短信
                    </label>
                </div>
            </div>

            <div class="form-group" ng-show="dopush.noticeWay == '2'" ng-hide="dopush.noticeWay != '2'">
                <label class="col-sm-2 control-label">短信渠道</label>

                <div class="col-sm-6">
                    <select ng-model="dopush.smsChannel"
                            ng-options="value.id as value.name for value in dopush.smsChannels" class="form-control">
                    </select>
                </div>
            </div>
            <div class="form-group"
                 ng-class="{ 'has-error': push_do_form.dopush.pushContent.$invalid && push_do_form.dopush.pushContent.$dirty }">
                <label class="col-sm-2 control-label">推送内容</label>

                <!--placeholder="短信推送请把文案压缩到64字符以内,不带【天天用车】字样..."-->
                <div class="col-sm-10">
                    <textarea rows="3"
                              name="dopush.pushContent"
                              type="text"
                              class="form-control"
                              placeholder="短信不用带【天天用车】、退订回T等字样..."
                              ng-model="dopush.pushContent"
                              ng-required="true">
                    </textarea>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">备注</label>

                <div class="col-sm-10">
                    <textarea rows="3" name="dopush.pushRemark" type="text" class="form-control" placeholder=""
                              ng-model="dopush.pushRemark">
                    </textarea>
                </div>
            </div>

        </form>
    </div>
    <div class="modal-footer">
        <button ng-disabled="push_do_form.$invalid" class="btn btn-primary" ng-click="ok()">推送</button>
    </div>
</div>
